<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        /*
        forEach() 함수
        - array의 크기인 N번 반복해 콜백함수를 호출.
        - thisArgs는 콜백함수 내에서 인수로 사용 가능. this.xx와 같이 사용
        단, 필요없는 경우 생략 가능
        - 반환값은 별도로 없다.
        형식]
            배열변수.forEach(콜백함수(), thisArgs);
        */
        function forEachTest1(){
            console.error("forEachTest1() called.. 기본사용법");
            var oldArray = [1,2,3,4,5];
            /*
            currentVal : 현재 루푸의 원소를 반환
            index : 인덱스 반환.
            array : 반복을 위한 배열 자체를 반환 
            */
            oldArray.forEach(function(currentVal, index, array){
                console.log('현재값: ' + currentVal, ' 인덱스: ' + index, ' 배열: ' + array);
            });
        };

        function forEachTest2(){
            console.error("forEachTest2() called.. 배열 요소의 합계");
            var oldArray = [1,2,3,4,5];
            var sum = 0;
            // forEach 함수 내에서 사용할 콜백함수를 별도로 선언.
            // 매개변수는 3개를 사용할 수 있지만 필요없는 경우 생략가능
            function getSum(currentVal){
                sum += currentVal;
            }
            oldArray.forEach(getSum);
            console.log(sum);
        }

        function forEachTest3(){
            console.error("forEachTest3() called.. args 매개변수 사용하기");
            var oldArray = [1,2,3,4,5,6,7,8,9,10];
            var sum = 0;
            // 콜백함수에서 사용할 인자(thisArgs)를 객체로 정의
            var myArgs = {min:3, max:7};
            // 콜백함수 정의
            function getSum(currentVal){
                /*
                myArgs는 'this.키'와 같은 형태로 사용가능.
                즉 3 이상 7이하의 조건에 맞는 숫자만 sum에 누적해 더해짐
                */
                if(currentVal>=this.min && currentVal <=this.max){
                    sum += currentVal;
                }
            }
            oldArray.forEach(getSum, myArgs);
            console.log(sum);
        }
    </script>
</head>
<body>
    <h2>고차함수 - forEach()</h2>
    <div>
        <input type="button" onclick="forEachTest1" value="forEach1">
        <input type="button" onclick="forEachTest2" value="forEach2">
        <input type="button" onclick="forEachTest3" value="forEach3">
    </div>

    
    
</body>
</html>

